!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=21)}({0:function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.partials={},this.type="parser",this.math_func=["sin","tan","cos","asin","atan","acos","sinh","tanh","cosh","asinh","atanh","acosh","ceil","floor","abs","exp","ln","log","pow","cot","sec","csc"]}return t.prototype.parse=function(t){var e=this;if("number"==typeof t&&(t=t.toString()),0==this.check(t))throw new s("Invalid expression given");return t=this.prepareExpression(t),t=t.replace(/sqrt\$([0-9]+)/i,function(t,e){return"Math.pow($"+e+", 0.5)"}),t=t.replace(/([\$0-9xe]+)\^([\$0-9xe]+)/gi,function(t,e,i){return"pow("+e+", "+i+")"}),t=t.replace(/\$([0-9]+)/gi,function(t,i){return e.clean("("+e.parse(e.partials["$"+i])+")")}),t=this.clean(t)},t.prototype.check=function(t){return t.split("(").length==t.split(")").length},t.prototype.prepareExpression=function(t){var e=this;t=t.replace(/²/gi,"^2"),t=t.replace(/³/gi,"^2"),t=t.replace(/X/g,"x");for(var i="",n=0,o="",s=0;s<t.length;s++){var r=t[s],a="$"+(Object.keys(this.partials).length+1);n>=1?")"==r?(n-=1,0==n?(this.partials[a]=o,o=""):o+=r):("("==r&&(n+=1),o+=r):"("==r?(n+=1,i+=a):i+=r}return i=i.replace(/([0-9\.]+)x\^([\$0-9\.]+)/gi,function(t,i,n){var o="$"+(Object.keys(e.partials).length+1);return e.partials[o]=i+"*x^"+n,o}),i=i.replace(/([0-9\.]+)x/gi,function(t,i){var n="$"+(Object.keys(e.partials).length+1);return e.partials[n]=i+"*x",n})},t.prototype.getComputedValue=function(t){var e=new r;return 0==t.indexOf("dérivée ")?t=e.derivative(t.replace("dérivée ","")):0==t.indexOf("dérivée_seconde ")&&(t=e.derivative(e.derivative(t.replace("dérivée_seconde ","")))),t},t.prototype.Functionize=function(t,e){return void 0===e&&(e=!0),1==e&&(t=this.parse(t)),console.log(t),new Function("x","funcs","\n            const sin = Math.sin;\n            const tan = Math.tan;\n            const cos = Math.cos;\n            const asin = Math.asin;\n            const atan = Math.atan;\n            const acos = Math.acos;\n            \n            const cot = (x) => 1 / Math.tan(x);\n            const csc = (x) => 1 / Math.sin(x);\n            const sec = (x) => 1 / Math.cos(x);\n            \n            const sinh = Math.sinh;\n            const tanh = Math.tanh;\n            const cosh = Math.cosh;\n            const asinh = Math.asinh;\n            const atanh = Math.atanh;\n            const acosh = Math.acosh;\n\n            const ceil = Math.ceil;\n            const floor = Math.floor;\n            const abs = Math.abs;\n            const ln = Math.log;\n            const log = function (base, y) { \n                if(y == undefined) {\n                    y = base;\n                    base = 10;\n                }\n                return Math.log(y) / Math.log(base)\n            };\n\n            const e = Math.E;\n            const pi = Math.PI;\n            const pow = function (base, exponent){\n                if(exponent % 1 != 0){\n                    for(let i = -7; i < 8; i = i + 2){\n                        if(exponent == 1/i && base < 0) return 0 - 1 * Math.pow(0 - base, exponent);     \n                    }\n                }\n                return Math.pow(base, exponent);\n            }\n\n            const exp = function (base, y){\n                if(y == undefined){\n                    return Math.exp(base);\n                } else {\n                    return pow(base, y);\n                }\n            }; \n            \n            return "+this.FunctionizeCalls(t)+";\n            \n            ")},t.prototype.FunctionizeCalls=function(t){var e=this;return console.log(t),t.replace(/([a-z]+)([1-9]*)\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/g,function(t,i,n,o){return console.log(i),e.math_func.indexOf(i)>=0?i+n+"("+e.FunctionizeCalls(o)+")":"funcs."+(i+n)+".array("+e.FunctionizeCalls(o)+", funcs)"})},t.prototype.clean=function(t){for(var e=this,i=/([^a-z\/])\(([0-9x]+)\)/gi;i.test(t);)t=t.replace(i,function(t,e,i){return e+i});return t=t.replace(/\*([0-9])/gi,function(t,e){return 1==e?"":t}),t=t.replace(/\^([0-9])/gi,function(t,e){return 1==e?"":t}),t=t.replace(/\$([0-9]+)/g,function(t){return"("+e.partials[t]+")"})},t.prototype.tokenize=function(t){var e=this;if("number"==typeof t&&(t=t.toString()),0==this.check(t))throw new s("Invalid expression given");t=this.prepareExpression(t);var i=function(t,i){for(var n=e.math_func,o=0;o<n.length;o++){var s=n[o];if(0==t.indexOf(s))return 1!=i||s}return!1};if(t=t.trim(),t.indexOf("=")>=0)return{type:"equal_sign",value:t.split("=").map(function(t){return e.tokenize(t)})};if(isNaN(t)){if(isNaN(this.Functionize(t)(NaN))){if("x"==t)return{type:"variable",value:"x"};if(t.indexOf("+")>=0){var n=t.split("+"),o=[];return n.forEach(function(t){o.push(e.tokenize(t))}),{type:"plus",value:o}}if(t.indexOf("-")>=0){var n=t.split("-"),r=[];return n.forEach(function(t,i){t=t.trim(),0==i&&""==t?r.push(e.tokenize(0)):r.push(e.tokenize(t))}),{type:"minus",value:r}}if(t.indexOf("*")>=0){var n=t.split("*"),a=[];return n.forEach(function(t){a.push(e.tokenize(t))}),{type:"times",value:a}}if(t.indexOf("/")>=0){var n=t.split("/"),h="("+function(t){return t.shift(),t}(n).join(")*(")+")";return{type:"over",value:[this.tokenize(n[0]),this.tokenize(h)],over:this.clean(h)}}if(1==/^\$([0-9]+)$/.test(t))return this.tokenize(this.partials[t]);if(t.indexOf("^")>0){var c=t.split("^");if(2==c.length)return{type:"power",value:[this.tokenize(c[0]),this.tokenize(c[1])]};throw new Error("Unexpected expression")}if(1==i(t)){var u=i(t,!0);return{type:"function",value:u,args:this.tokenize(t.replace(u,""))}}if(t.indexOf(",")>=0){var c=t.split(",");return c.map(function(t){return e.tokenize(t)})}throw new Error("Could not parse expression "+t)}return{type:"number",value:this.Functionize(t)(NaN)}}return{type:"number",value:t}},t}();e.default=o;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="IE",e}return n(e,t),e}(Error);e.InvalidExpressionError=s;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ce=[],e.type="MathObject",e}return n(e,t),e.prototype.derivative=function(t){var e=this;if(0==this.check(t))throw new s("Invalid expression given");if(t=this.prepareExpression(t),t.indexOf("+")>=0){var i=t.split("+");return t="",(i.forEach(function(i){return t+=e.derivative(i)+"+"}),"+"==t[t.length-1]&&(t=t.slice(0,-1)),isNaN(this.Functionize(t)(NaN)))?t=this.clean(t):this.Functionize(t)(NaN)}if(t.indexOf("-")>=0){var i=t.split("-");return t="",(i.forEach(function(i){return t+=e.derivative(i)+"-"}),"-"==t[t.length-1]&&(t=t.slice(0,-1)),isNaN(this.Functionize(t)(NaN)))?t=this.clean(t):this.Functionize(t)(NaN)}if(t.indexOf("*")>=0){var n=t.split("*").sort();return t="",(n.forEach(function(i,o){var s=e.getAllExpect(n,o),r=s.join("*"),a=e.derivative(i);s.indexOf("0")>=0||0!=e.Functionize(r)(NaN)&&0!=e.Functionize(a)(NaN)&&(t+=a+"*"+s.join("*")+"+")}),"+"==t[t.length-1]&&(t=t.slice(0,-1)),isNaN(this.Functionize(t)(NaN)))?t=this.clean(t):this.Functionize(t)(NaN)}if(t.indexOf("/")>=0){var i=t.split("/"),o=i.slice();o.shift();var r="("+o.join(")*(")+")",a="("+this.derivative(i[0])+")*"+r+"-"+this.derivative(r)+"*("+i[0]+")";return t="("+a+")/(("+r+")^2)",isNaN(this.Functionize(t)(NaN))?t=this.clean(t):this.Functionize(t)(NaN)}if(isNaN(t)){if("x"==t)return 1;if(t.indexOf("^")>=1){var h=t.split("^");return this.clean(h[1]+"*"+h[0]+"^("+(isNaN(this.Functionize(h[1]+"-1")(NaN))?h[1]+"-1":this.Functionize(h[1]+"-1")(NaN))+")*("+this.derivative(h[0])+")")}if(1==/^\$([0-9]+)$/.test(t)){var c=this.partials[t];return/^\$([0-9]+)$/.test(c)?"("+this.derivative(this.partials[c])+")":"("+this.derivative(c)+")"}if(1==/^sin\$([0-9]+)$/.test(t)){var u=t.replace("sin","");return this.clean("cos("+this.partials[u]+")*("+this.derivative(this.partials[u])+")")}if(1==/^cos\$([0-9]+)$/.test(t)){var u=t.replace("cos","");return this.clean("-sin("+this.partials[u]+")*("+this.derivative(this.partials[u])+")")}throw console.log(t),new Error("Something went wrong width ")}return"0"},e.prototype.getAllExpect=function(t,e){var i=[];return t.forEach(function(t,n){n!=e&&i.push(t)}),i},e.prototype.getRoots=function(){},e.prototype.getDomF=function(t,e){var i=this;if(void 0===e&&(e=!0),1==e&&(this.ce=[]),"plus"===t.type||"minus"===t.type||"times"===t.type){t.value.forEach(function(t){i.getDomF(t)})}else"over"==t.type?this.ce.push(JSON.stringify(t.value[1])+" not null"):"function"==t.type&&"sqrt"==t.value&&this.ce.push(JSON.stringify(t.args)+">=0");if(!0===e)return 0===this.ce.length?"R":"ce : "+this.ce.join("\n")},e}(o);e.MathObject=r},21:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(22),o=i(5),s=i(0),r=function(){function t(t,e){var i=new n.default(550,550),r=new o.default(i);r.fastDrawing=!0,r.init();var a=new s.default;new s.MathObject;r.init(),r.funcs={};var h=t,c=a.Functionize(h),u=r.drawFromFunc(c);r.funcs={func:{visible:!0,color:u,array:c,exp:h,initial:h}},e(i.toSVG())}return t}();e.default=r},22:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(23),o=function(){function t(t,e){void 0===t&&(t=500),void 0===e&&(e=500),this.scrollHeight=this.height=e,this.scrollWidth=this.width=t}return t.prototype.getContext=function(t){if("2d"==t)return console.log(this.xGet2DContext()),this.xGet2DContext()},t.prototype.xGet2DContext=function(){return this.ctx?this.ctx:(this.ctx=new n.default,this.ctx)},t.prototype.toSVG=function(){var t="";return console.log("Building svg with "+this.getContext("2d").svg.length+" lines"),this.getContext("2d").svg.forEach(function(e){e.text!=[]&&e.text.forEach(function(e){t+='<text x="'+e.x+'" y="'+e.y+'" style="fill:'+e.color+";font: "+e.font+'">'+e.text+"</text>"}),""!=e.path&&"Z"!=e.path&&0!=e.path.indexOf("L")&&(t+='<path d="'+e.path+'" style="stroke-width:'+e.stroke_width+"px;stroke:"+e.stroke+";fill:"+e.fill+';"></path>')}),'<svg width="'+this.width+'" height="'+this.height+'">'+t+"</svg>"},t.prototype.addEventListener=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t}();e.default=o},23:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(24),o=function(){function t(){this.svg=[]}return t.prototype.clearRect=function(){this.svg=[]},t.prototype.beginPath=function(){this.i=this.svg.push(new n.Path)-1},t.prototype.rect=function(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()},t.prototype.fill=function(){this.svg[this.i].fill=this.fillStyle},t.prototype.stroke=function(){this.svg[this.i].stroke=this.strokeStyle,this.svg[this.i].stroke_width=this.lineWidth},t.prototype.fillText=function(t,e,i){this.svg[this.i].text.push(new n.XText(t,e,i,this.font,this.fillStyle))},t.prototype.closePath=function(){this.svg[this.i].path+="Z"},t.prototype.moveTo=function(t,e){isNaN(e)||(this.svg[this.i].path+="M"+t+" "+e+" ")},t.prototype.lineTo=function(t,e){isNaN(e)||(this.svg[this.i].path+="L"+t+" "+e+" ")},t}();e.default=o},24:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.path="",this.stroke="none",this.stroke_width=1,this.fill="none",this.text=[]}return t}();e.Path=n;var o=function(){function t(t,e,i,n,o){this.text=t,this.x=e,this.y=i,this.font=n,this.color=o}return t}();e.XText=o},5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){var e=this;this.fdata={},this.center_x=0,this.center_y=0,this.x_unit=50,this.y_unit=50,this.stored={},this.pathes={},this.objects=[],this.fastDrawing=!1,t.height=t.scrollHeight,t.width=t.scrollWidth,this.canvas=t,this.ctx=t.getContext("2d"),this.init();var i,n=!1;t.addEventListener("mousedown",function(e){n=!0,i={x:e.pageX,y:e.pageY},t.style.cursor="grabbing"}),t.addEventListener("touchstart",function(t){n=!0,i={x:t.touches.item(0).clientX,y:t.touches.item(0).clientY}}),t.addEventListener("mousemove",function(t){if(1==n){var o={x:t.pageX,y:t.pageY},s=i;e.move(s,o)&&(i=o)}}),t.addEventListener("touchmove",function(t){if(t.preventDefault(),1==n){var o={x:t.touches.item(0).clientX,y:t.touches.item(0).clientY},s=i;e.move(s,o)&&(i=o)}}),t.addEventListener("mouseup",function(i){i.preventDefault(),i.stopPropagation(),n=!1,t.style.cursor="grab",e.hasUpdated()}),t.addEventListener("touchend",function(t){t.stopPropagation(),t.preventDefault(),n=!1,e.hasUpdated()});try{window.addEventListener("resize",function(t){t.stopPropagation(),t.preventDefault(),e.reload()})}catch(t){console.log(t)}t.addEventListener("mousewheel",function(t){t.stopPropagation(),t.preventDefault();var i=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));e.zoom(i),e.hasUpdated()}),t.addEventListener("DOMMouseScroll",function(t){t.preventDefault(),t.preventDefault();var i=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));e.zoom(i),e.hasUpdated()})}return t.prototype.getValues=function(){return{center_x:this.center_x,center_y:this.center_y,x_unit:this.x_unit,y_unit:this.y_unit}},t.prototype.setValues=function(t){this.center_x=t.center_x,this.center_y=t.center_y,this.x_unit=t.x_unit,this.y_unit=t.y_unit},t.prototype.hasUpdated=function(){this.onupdate&&this.onupdate()},t.prototype.zoom=function(t){this.x_unit+10*t>10&&(this.x_unit+=10*t),this.y_unit+10*t>10&&(this.y_unit+=10*t),this.reload()},t.prototype.init=function(){this.canvas.height=this.canvas.scrollHeight,this.canvas.width=this.canvas.scrollWidth,this.draw()},t.prototype.draw=function(){this.drawGrid()},t.prototype.drawGrid=function(){var t=Math.max(this.canvas.height,this.canvas.width);t/=Math.min(this.x_unit,this.y_unit),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.fillStyle="#fafafa",this.ctx.rect(0,0,this.canvas.width,this.canvas.height),this.ctx.fill(),this.ctx.closePath();for(var e=Math.floor(this.center_x+t),i=Math.floor(this.center_x-t);i<e;)this.drawLine(this.getRelativePositionX(i),this.getRelativePositionY(Math.floor(this.center_y+t)),this.getRelativePositionX(i),this.getRelativePositionY(Math.floor(this.center_y-t)),0==Math.floor(i)?"black":void 0),this.ctx.beginPath(),this.ctx.font="18px Sans Serif",this.ctx.fillStyle="gray",this.ctx.fillText(i.toString(),this.getRelativePositionX(i),this.getRelativePositionY(0)+15),this.ctx.closePath(),i++;e=Math.floor(this.center_y+t);for(var n=Math.floor(this.center_y-t);n<e;)this.drawLine(this.getRelativePositionX(Math.floor(this.center_x+t)),this.getRelativePositionY(n),this.getRelativePositionX(Math.floor(this.center_x-t)),this.getRelativePositionY(n),0==Math.floor(n)?"black":void 0),this.ctx.beginPath(),this.ctx.font="18px Sans Serif",this.ctx.fillStyle="gray",this.ctx.fillText(n.toString(),this.getRelativePositionX(0)-15*n.toString().length/2-5,this.getRelativePositionY(n)),this.ctx.closePath(),n++},t.prototype.move=function(t,e){var i=t.x-e.x,n=t.y-e.y;if(Math.sqrt(Math.pow(i,2)+Math.pow(n,2))>10)return this.center_x+=i/this.x_unit,this.center_y-=n/this.y_unit,this.reload(),!0},t.prototype.drawLine=function(t,e,i,n,o,s){this.ctx.beginPath(),this.ctx.strokeStyle=void 0==o?"#D0D0D0":o,n==1/0&&console.log(n=this.canvas.height,"Inf"+n),e==1/0&&console.log(e=this.canvas.height,"Inf"+e),this.ctx.moveTo(t,e),this.ctx.lineTo(i,n),this.ctx.lineWidth=void 0==s?1:s,this.ctx.stroke()},t.prototype.getRelativePositionX=function(t){return this.canvas.width/2+t*this.x_unit-this.center_x*this.x_unit},t.prototype.getRelativePositionY=function(t){return this.canvas.height/2-t*this.y_unit+this.center_y*this.y_unit},t.prototype.drawFromFunc=function(t,e,i){if(void 0===e&&(e=void 0),void 0===i&&(i=this.fastDrawing),!e){e="#";for(var n=0;n<6;n++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())]}var o=this.canvas.width/2/this.x_unit,s=this.center_x-o,r=void 0,a=t,h=!0;void 0==this.pathes[a]&&(this.pathes[a]={},h=!1);for(var c=Math.min(5*this.canvas.width/(1e3*this.x_unit),.05),u=c,l=void 0;s<this.center_x+o;){var f=void 0,p=void 0,v=void 0;if(1==h&&void 0!=this.pathes[a][s]?(p=this.getRelativePositionY(this.pathes[a][s]),v=this.getRelativePositionX(s)):(f=this.getFor(s,t,a),this.pathes[a][s]=f,p=this.getRelativePositionY(f),v=this.getRelativePositionX(s)),void 0!=r){var d=Math.abs(p-r.y);d>75&&c==u?d>200?r=void 0:(s-=c,c=u/50,p=r.y,l=s+2):this.drawLine(v,p,r.x,r.y,e,2)}r={x:v,y:p},1==i?s+=.075:(l&&l<=s&&(l=void 0,c=u),s+=c)}return e},t.prototype.getFor=function(t,e,i){return void 0==this.stored[i]&&(this.stored[i]={}),void 0!=this.stored[i][t]?this.stored[i][t]:(this.stored[i][t]=e(t,this.fdata),this.stored[i][t])},t.prototype.reload=function(t){var e=this;void 0!=t&&(this.funcs=t),this.init();var i=Object.keys(this.fdata);requestAnimationFrame(function(){i.forEach(function(t){1==e.fdata[t].visible&&e.drawFromFunc(e.fdata[t].array,e.fdata[t].color)}),e.objects.forEach(function(t){if("point"==t.type){var i=NaN;i=isNaN(t.y)?t.y(parseFloat(t.x),e.fdata):t.y,e.point(t.x,i)}})})},t.prototype.point=function(t,e,i){void 0===i&&(i=""),i=i+"("+t+";"+e+")",t=this.getRelativePositionX(t),e=this.getRelativePositionY(e),this.ctx.beginPath(),this.ctx.arc(t,e,3,0,2*Math.PI,!0),this.ctx.fill(),this.ctx.font="12px Arial",i&&this.ctx.fillText(i,t+10,e+10)},Object.defineProperty(t.prototype,"funcs",{get:function(){return this.fdata},set:function(t){this.fdata=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"object_list",{get:function(){return{objects:this.objects,push:function(t){return this.objects.push(t),this.objects}}},set:function(t){this.objects=t},enumerable:!0,configurable:!0}),t}();e.default=n}});