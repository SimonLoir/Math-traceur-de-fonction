(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("smath", [], factory);
	else if(typeof exports === 'object')
		exports["smath"] = factory();
	else
		root["smath"] = factory();
})(global, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/lib.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/core/expression.ts":
/*!********************************!*\
  !*** ./src/core/expression.ts ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst functionizer_1 = __webpack_require__(/*! ./functionizer */ \"./src/core/functionizer.ts\");\r\nclass expression {\r\n    /**\r\n     * Gets the default expression (plain text)\r\n     */\r\n    get baseExpression() {\r\n        return this.baseExp;\r\n    }\r\n    /**\r\n     * Creates a js function for the given math expression\r\n     */\r\n    get function() {\r\n        this.code = functionizer_1.default.functionize(this.baseExp);\r\n        return this.code;\r\n    }\r\n    /**\r\n     * Gets the parsed form of the expression\r\n     * (without the function wrapper)\r\n     */\r\n    get parsedForm() {\r\n        return functionizer_1.default.parse(this.baseExp);\r\n    }\r\n    /**\r\n     * Gets the y value for x\r\n     * @param x the value on the x axis\r\n     */\r\n    getFor(x) {\r\n        return this.code(x);\r\n    }\r\n    constructor(fn) {\r\n        this.baseExp = fn;\r\n        this.code = this.function;\r\n    }\r\n}\r\nexports.default = expression;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29yZS9leHByZXNzaW9uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc21hdGgvLi9zcmMvY29yZS9leHByZXNzaW9uLnRzP2Q5OGIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZnVuY3Rpb25pemVyXzEgPSByZXF1aXJlKFwiLi9mdW5jdGlvbml6ZXJcIik7XHJcbmNsYXNzIGV4cHJlc3Npb24ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBkZWZhdWx0IGV4cHJlc3Npb24gKHBsYWluIHRleHQpXHJcbiAgICAgKi9cclxuICAgIGdldCBiYXNlRXhwcmVzc2lvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlRXhwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEganMgZnVuY3Rpb24gZm9yIHRoZSBnaXZlbiBtYXRoIGV4cHJlc3Npb25cclxuICAgICAqL1xyXG4gICAgZ2V0IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuY29kZSA9IGZ1bmN0aW9uaXplcl8xLmRlZmF1bHQuZnVuY3Rpb25pemUodGhpcy5iYXNlRXhwKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb2RlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBwYXJzZWQgZm9ybSBvZiB0aGUgZXhwcmVzc2lvblxyXG4gICAgICogKHdpdGhvdXQgdGhlIGZ1bmN0aW9uIHdyYXBwZXIpXHJcbiAgICAgKi9cclxuICAgIGdldCBwYXJzZWRGb3JtKCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbml6ZXJfMS5kZWZhdWx0LnBhcnNlKHRoaXMuYmFzZUV4cCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHkgdmFsdWUgZm9yIHhcclxuICAgICAqIEBwYXJhbSB4IHRoZSB2YWx1ZSBvbiB0aGUgeCBheGlzXHJcbiAgICAgKi9cclxuICAgIGdldEZvcih4KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29kZSh4KTtcclxuICAgIH1cclxuICAgIGNvbnN0cnVjdG9yKGZuKSB7XHJcbiAgICAgICAgdGhpcy5iYXNlRXhwID0gZm47XHJcbiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy5mdW5jdGlvbjtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBleHByZXNzaW9uO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/core/expression.ts\n");

/***/ }),

/***/ "./src/core/functionizer.ts":
/*!**********************************!*\
  !*** ./src/core/functionizer.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass functionizer {\r\n    constructor() {\r\n        this.type = 'parser';\r\n    }\r\n    static functionize(code) {\r\n        return this.Functionize(code, true);\r\n    }\r\n    /**\r\n     * Initialise a parsing task\r\n     * @param {String} expression the expression that has to be parsed\r\n     */\r\n    static parse(expression) {\r\n        if (typeof expression == 'number') {\r\n            //@ts-ignore\r\n            expression = expression.toString();\r\n        }\r\n        // 1) We have to check wheter or not the expression is valid\r\n        if (this.check(expression) == false) {\r\n            throw new InvalidExpressionError('Invalid expression given');\r\n        }\r\n        // 2) We convert ...(....) into ...$1 and $1 = ....\r\n        expression = this.prepareExpression(expression);\r\n        // 3) We really parse the expression\r\n        // We transform math functions into valid js code\r\n        expression = expression.replace(/sqrt\\$([0-9]+)/i, (e, $1) => `Math.pow($${$1}, 0.5)`);\r\n        /*expression = expression.replace(/derivée\\$([0-9]+)/i,\r\n            (e, $1) => `()`);*/\r\n        // We tranform exponants into Math.pow()\r\n        expression = expression.replace(/([\\$0-9xe]+)\\^([\\$0-9xe]+)/gi, (e, $1, $2) => `pow(${$1}, ${$2})`);\r\n        // We tranform ! into factorial\r\n        /*expression = expression.replace(\r\n            /([\\$0-9xe]+)\\^([\\$0-9xe]+)/gi,\r\n            (e, $1, $2) => `pow(${$1}, ${$2})`\r\n        );*/\r\n        // We rebuild the complete expression\r\n        expression = expression.replace(/\\$([0-9]+)/gi, (e, $1) => this.clean('(' + this.parse(this.partials['$' + $1]) + ')'));\r\n        expression = this.clean(expression);\r\n        return expression;\r\n    }\r\n    /**\r\n     * Checks if the number of ( is equal to the number of )\r\n     * @param exp the expression to check\r\n     */\r\n    static check(exp) {\r\n        let open_brackets_number = exp.split('(').length;\r\n        let close_brackets_number = exp.split(')').length;\r\n        if (open_brackets_number == close_brackets_number) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    /**\r\n     * PrepareExpression\r\n     */\r\n    static prepareExpression(exp) {\r\n        exp = exp.replace(/²/gi, '^2');\r\n        exp = exp.replace(/³/gi, '^2');\r\n        exp = exp.replace(/X/g, 'x');\r\n        let processed_exp = '';\r\n        let parenthesis_level = 0;\r\n        let buffer = '';\r\n        for (let i = 0; i < exp.length; i++) {\r\n            const char = exp[i];\r\n            let e = '$' + (Object.keys(this.partials).length + 1);\r\n            if (parenthesis_level >= 1) {\r\n                if (char == ')') {\r\n                    parenthesis_level -= 1;\r\n                    if (parenthesis_level == 0) {\r\n                        this.partials[e] = buffer;\r\n                        buffer = '';\r\n                    }\r\n                    else {\r\n                        buffer += char;\r\n                    }\r\n                }\r\n                else {\r\n                    if (char == '(') {\r\n                        parenthesis_level += 1;\r\n                    }\r\n                    buffer += char;\r\n                }\r\n            }\r\n            else {\r\n                if (char == '(') {\r\n                    parenthesis_level += 1;\r\n                    processed_exp += e;\r\n                }\r\n                else {\r\n                    processed_exp += char;\r\n                }\r\n            }\r\n        }\r\n        processed_exp = processed_exp.replace(/([0-9\\.]+)x\\^([\\$0-9\\.]+)/gi, (exp, $1, $2) => {\r\n            let e = '$' + (Object.keys(this.partials).length + 1);\r\n            this.partials[e] = `${$1}*x^${$2}`;\r\n            return e;\r\n        });\r\n        processed_exp = processed_exp.replace(/([0-9\\.]+)x/gi, (exp, $1) => {\r\n            let e = '$' + (Object.keys(this.partials).length + 1);\r\n            this.partials[e] = `${$1}*x`;\r\n            return e;\r\n        });\r\n        return processed_exp;\r\n    }\r\n    /**\r\n     * Creates a function to run the expression\r\n     */\r\n    static Functionize(exp, parse = true) {\r\n        if (parse == true) {\r\n            exp = this.parse(exp);\r\n        }\r\n        //console.log(exp);\r\n        return new Function('x', 'funcs', `\r\n            const sin = Math.sin;\r\n            const tan = Math.tan;\r\n            const cos = Math.cos;\r\n            const asin = Math.asin;\r\n            const atan = Math.atan;\r\n            const acos = Math.acos;\r\n            \r\n            const cot = (x) => 1 / Math.tan(x);\r\n            const csc = (x) => 1 / Math.sin(x);\r\n            const sec = (x) => 1 / Math.cos(x);\r\n            \r\n            const sinh = Math.sinh;\r\n            const tanh = Math.tanh;\r\n            const cosh = Math.cosh;\r\n            const asinh = Math.asinh;\r\n            const atanh = Math.atanh;\r\n            const acosh = Math.acosh;\r\n\r\n            const ceil = Math.ceil;\r\n            const floor = Math.floor;\r\n            const abs = Math.abs;\r\n            const ln = Math.log;\r\n            const log = function (base, y) { \r\n                if(y == undefined) {\r\n                    y = base;\r\n                    base = 10;\r\n                }\r\n                return Math.log(y) / Math.log(base)\r\n            };\r\n\r\n            const e = Math.E;\r\n            const pi = Math.PI;\r\n            const pow = function (base, exponent){\r\n                if(exponent % 1 != 0){\r\n                    for(let i = -7; i < 8; i = i + 2){\r\n                        if(exponent == 1/i && base < 0) return 0 - 1 * Math.pow(0 - base, exponent);     \r\n                    }\r\n                }\r\n                return Math.pow(base, exponent);\r\n            }\r\n\r\n            const exp = function (base, y){\r\n                if(y == undefined){\r\n                    return Math.exp(base);\r\n                } else {\r\n                    return pow(base, y);\r\n                }\r\n            }; \r\n\r\n            const gamma = function (z) {\r\n                let g = 7;\r\n                let C = [0.99999999999980993, 676.5203681218851, -1259.1392167224028,771.32342877765313, -176.61502916214059, 12.507343278686905, -0.13857109526572012, 9.9843695780195716e-6, 1.5056327351493116e-7]\r\n                if (z < 0.5) return Math.PI / (Math.sin(Math.PI * z) * gamma(1 - z));\r\n                else {\r\n                    z -= 1;\r\n            \r\n                    var x = C[0];\r\n                    for (var i = 1; i < g + 2; i++)\r\n                    x += C[i] / (z + i);\r\n            \r\n                    var t = z + g + 0.5;\r\n                    return Math.sqrt(2 * Math.PI) * Math.pow(t, (z + 0.5)) * Math.exp(-t) * x;\r\n                }\r\n            }\r\n            \r\n            return ${this.FunctionizeCalls(exp)};\r\n            \r\n            `);\r\n    }\r\n    static FunctionizeCalls(exp) {\r\n        //console.log(exp);\r\n        return exp.replace(/([a-z]+)([1-9]*)\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/g, (e, $1, $2, $3) => {\r\n            //console.log($1);\r\n            if (this.math_func.indexOf($1) >= 0) {\r\n                return `${$1 + $2}(${this.FunctionizeCalls($3)})`;\r\n            }\r\n            return `funcs.${$1 + $2}.array(${this.FunctionizeCalls($3)}, funcs)`;\r\n        });\r\n    }\r\n    /**\r\n     * CleanUp\r\n     */\r\n    static clean(expression) {\r\n        let pattern = /([^a-z\\/])\\(([0-9x]+)\\)/gi;\r\n        while (pattern.test(expression)) {\r\n            expression = expression.replace(pattern, (e, $1, $2) => $1 + $2);\r\n        }\r\n        expression = expression.replace(/\\*([0-9])/gi, (e, $1) => $1 == 1 ? '' : e);\r\n        expression = expression.replace(/\\^([0-9])/gi, (e, $1) => $1 == 1 ? '' : e);\r\n        expression = expression.replace(/\\$([0-9]+)/g, e => {\r\n            return `(${this.partials[e]})`;\r\n        });\r\n        return expression;\r\n    }\r\n}\r\nfunctionizer.partials = {};\r\nfunctionizer.math_func = [\r\n    'sin',\r\n    'tan',\r\n    'cos',\r\n    'asin',\r\n    'atan',\r\n    'acos',\r\n    'sinh',\r\n    'tanh',\r\n    'cosh',\r\n    'asinh',\r\n    'atanh',\r\n    'acosh',\r\n    'ceil',\r\n    'floor',\r\n    'abs',\r\n    'exp',\r\n    'ln',\r\n    'log',\r\n    'pow',\r\n    'cot',\r\n    'sec',\r\n    'csc',\r\n    'gamma'\r\n];\r\nexports.default = functionizer;\r\nclass InvalidExpressionError extends Error {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.type = 'IE';\r\n    }\r\n}\r\nexports.InvalidExpressionError = InvalidExpressionError;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29yZS9mdW5jdGlvbml6ZXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWF0aC8uL3NyYy9jb3JlL2Z1bmN0aW9uaXplci50cz9jN2I3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNsYXNzIGZ1bmN0aW9uaXplciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSAncGFyc2VyJztcclxuICAgIH1cclxuICAgIHN0YXRpYyBmdW5jdGlvbml6ZShjb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRnVuY3Rpb25pemUoY29kZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpc2UgYSBwYXJzaW5nIHRhc2tcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBleHByZXNzaW9uIHRoZSBleHByZXNzaW9uIHRoYXQgaGFzIHRvIGJlIHBhcnNlZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcGFyc2UoZXhwcmVzc2lvbikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXhwcmVzc2lvbiA9PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24udG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gMSkgV2UgaGF2ZSB0byBjaGVjayB3aGV0ZXIgb3Igbm90IHRoZSBleHByZXNzaW9uIGlzIHZhbGlkXHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2soZXhwcmVzc2lvbikgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRFeHByZXNzaW9uRXJyb3IoJ0ludmFsaWQgZXhwcmVzc2lvbiBnaXZlbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAyKSBXZSBjb252ZXJ0IC4uLiguLi4uKSBpbnRvIC4uLiQxIGFuZCAkMSA9IC4uLi5cclxuICAgICAgICBleHByZXNzaW9uID0gdGhpcy5wcmVwYXJlRXhwcmVzc2lvbihleHByZXNzaW9uKTtcclxuICAgICAgICAvLyAzKSBXZSByZWFsbHkgcGFyc2UgdGhlIGV4cHJlc3Npb25cclxuICAgICAgICAvLyBXZSB0cmFuc2Zvcm0gbWF0aCBmdW5jdGlvbnMgaW50byB2YWxpZCBqcyBjb2RlXHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ucmVwbGFjZSgvc3FydFxcJChbMC05XSspL2ksIChlLCAkMSkgPT4gYE1hdGgucG93KCQkeyQxfSwgMC41KWApO1xyXG4gICAgICAgIC8qZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ucmVwbGFjZSgvZGVyaXbDqWVcXCQoWzAtOV0rKS9pLFxyXG4gICAgICAgICAgICAoZSwgJDEpID0+IGAoKWApOyovXHJcbiAgICAgICAgLy8gV2UgdHJhbmZvcm0gZXhwb25hbnRzIGludG8gTWF0aC5wb3coKVxyXG4gICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UoLyhbXFwkMC05eGVdKylcXF4oW1xcJDAtOXhlXSspL2dpLCAoZSwgJDEsICQyKSA9PiBgcG93KCR7JDF9LCAkeyQyfSlgKTtcclxuICAgICAgICAvLyBXZSB0cmFuZm9ybSAhIGludG8gZmFjdG9yaWFsXHJcbiAgICAgICAgLypleHByZXNzaW9uID0gZXhwcmVzc2lvbi5yZXBsYWNlKFxyXG4gICAgICAgICAgICAvKFtcXCQwLTl4ZV0rKVxcXihbXFwkMC05eGVdKykvZ2ksXHJcbiAgICAgICAgICAgIChlLCAkMSwgJDIpID0+IGBwb3coJHskMX0sICR7JDJ9KWBcclxuICAgICAgICApOyovXHJcbiAgICAgICAgLy8gV2UgcmVidWlsZCB0aGUgY29tcGxldGUgZXhwcmVzc2lvblxyXG4gICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UoL1xcJChbMC05XSspL2dpLCAoZSwgJDEpID0+IHRoaXMuY2xlYW4oJygnICsgdGhpcy5wYXJzZSh0aGlzLnBhcnRpYWxzWyckJyArICQxXSkgKyAnKScpKTtcclxuICAgICAgICBleHByZXNzaW9uID0gdGhpcy5jbGVhbihleHByZXNzaW9uKTtcclxuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSBudW1iZXIgb2YgKCBpcyBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIClcclxuICAgICAqIEBwYXJhbSBleHAgdGhlIGV4cHJlc3Npb24gdG8gY2hlY2tcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNoZWNrKGV4cCkge1xyXG4gICAgICAgIGxldCBvcGVuX2JyYWNrZXRzX251bWJlciA9IGV4cC5zcGxpdCgnKCcpLmxlbmd0aDtcclxuICAgICAgICBsZXQgY2xvc2VfYnJhY2tldHNfbnVtYmVyID0gZXhwLnNwbGl0KCcpJykubGVuZ3RoO1xyXG4gICAgICAgIGlmIChvcGVuX2JyYWNrZXRzX251bWJlciA9PSBjbG9zZV9icmFja2V0c19udW1iZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVwYXJlRXhwcmVzc2lvblxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcHJlcGFyZUV4cHJlc3Npb24oZXhwKSB7XHJcbiAgICAgICAgZXhwID0gZXhwLnJlcGxhY2UoL8KyL2dpLCAnXjInKTtcclxuICAgICAgICBleHAgPSBleHAucmVwbGFjZSgvwrMvZ2ksICdeMicpO1xyXG4gICAgICAgIGV4cCA9IGV4cC5yZXBsYWNlKC9YL2csICd4Jyk7XHJcbiAgICAgICAgbGV0IHByb2Nlc3NlZF9leHAgPSAnJztcclxuICAgICAgICBsZXQgcGFyZW50aGVzaXNfbGV2ZWwgPSAwO1xyXG4gICAgICAgIGxldCBidWZmZXIgPSAnJztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4cC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGFyID0gZXhwW2ldO1xyXG4gICAgICAgICAgICBsZXQgZSA9ICckJyArIChPYmplY3Qua2V5cyh0aGlzLnBhcnRpYWxzKS5sZW5ndGggKyAxKTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudGhlc2lzX2xldmVsID49IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09ICcpJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudGhlc2lzX2xldmVsIC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudGhlc2lzX2xldmVsID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0aWFsc1tlXSA9IGJ1ZmZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgKz0gY2hhcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhciA9PSAnKCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50aGVzaXNfbGV2ZWwgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyICs9IGNoYXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhciA9PSAnKCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRoZXNpc19sZXZlbCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZF9leHAgKz0gZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZF9leHAgKz0gY2hhcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBwcm9jZXNzZWRfZXhwID0gcHJvY2Vzc2VkX2V4cC5yZXBsYWNlKC8oWzAtOVxcLl0rKXhcXF4oW1xcJDAtOVxcLl0rKS9naSwgKGV4cCwgJDEsICQyKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBlID0gJyQnICsgKE9iamVjdC5rZXlzKHRoaXMucGFydGlhbHMpLmxlbmd0aCArIDEpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcnRpYWxzW2VdID0gYCR7JDF9KnheJHskMn1gO1xyXG4gICAgICAgICAgICByZXR1cm4gZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwcm9jZXNzZWRfZXhwID0gcHJvY2Vzc2VkX2V4cC5yZXBsYWNlKC8oWzAtOVxcLl0rKXgvZ2ksIChleHAsICQxKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBlID0gJyQnICsgKE9iamVjdC5rZXlzKHRoaXMucGFydGlhbHMpLmxlbmd0aCArIDEpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcnRpYWxzW2VdID0gYCR7JDF9KnhgO1xyXG4gICAgICAgICAgICByZXR1cm4gZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkX2V4cDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRvIHJ1biB0aGUgZXhwcmVzc2lvblxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgRnVuY3Rpb25pemUoZXhwLCBwYXJzZSA9IHRydWUpIHtcclxuICAgICAgICBpZiAocGFyc2UgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBleHAgPSB0aGlzLnBhcnNlKGV4cCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY29uc29sZS5sb2coZXhwKTtcclxuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCd4JywgJ2Z1bmNzJywgYFxyXG4gICAgICAgICAgICBjb25zdCBzaW4gPSBNYXRoLnNpbjtcclxuICAgICAgICAgICAgY29uc3QgdGFuID0gTWF0aC50YW47XHJcbiAgICAgICAgICAgIGNvbnN0IGNvcyA9IE1hdGguY29zO1xyXG4gICAgICAgICAgICBjb25zdCBhc2luID0gTWF0aC5hc2luO1xyXG4gICAgICAgICAgICBjb25zdCBhdGFuID0gTWF0aC5hdGFuO1xyXG4gICAgICAgICAgICBjb25zdCBhY29zID0gTWF0aC5hY29zO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgY290ID0gKHgpID0+IDEgLyBNYXRoLnRhbih4KTtcclxuICAgICAgICAgICAgY29uc3QgY3NjID0gKHgpID0+IDEgLyBNYXRoLnNpbih4KTtcclxuICAgICAgICAgICAgY29uc3Qgc2VjID0gKHgpID0+IDEgLyBNYXRoLmNvcyh4KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHNpbmggPSBNYXRoLnNpbmg7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhbmggPSBNYXRoLnRhbmg7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvc2ggPSBNYXRoLmNvc2g7XHJcbiAgICAgICAgICAgIGNvbnN0IGFzaW5oID0gTWF0aC5hc2luaDtcclxuICAgICAgICAgICAgY29uc3QgYXRhbmggPSBNYXRoLmF0YW5oO1xyXG4gICAgICAgICAgICBjb25zdCBhY29zaCA9IE1hdGguYWNvc2g7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjZWlsID0gTWF0aC5jZWlsO1xyXG4gICAgICAgICAgICBjb25zdCBmbG9vciA9IE1hdGguZmxvb3I7XHJcbiAgICAgICAgICAgIGNvbnN0IGFicyA9IE1hdGguYWJzO1xyXG4gICAgICAgICAgICBjb25zdCBsbiA9IE1hdGgubG9nO1xyXG4gICAgICAgICAgICBjb25zdCBsb2cgPSBmdW5jdGlvbiAoYmFzZSwgeSkgeyBcclxuICAgICAgICAgICAgICAgIGlmKHkgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IGJhc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZSA9IDEwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubG9nKHkpIC8gTWF0aC5sb2coYmFzZSlcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGUgPSBNYXRoLkU7XHJcbiAgICAgICAgICAgIGNvbnN0IHBpID0gTWF0aC5QSTtcclxuICAgICAgICAgICAgY29uc3QgcG93ID0gZnVuY3Rpb24gKGJhc2UsIGV4cG9uZW50KXtcclxuICAgICAgICAgICAgICAgIGlmKGV4cG9uZW50ICUgMSAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAtNzsgaSA8IDg7IGkgPSBpICsgMil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGV4cG9uZW50ID09IDEvaSAmJiBiYXNlIDwgMCkgcmV0dXJuIDAgLSAxICogTWF0aC5wb3coMCAtIGJhc2UsIGV4cG9uZW50KTsgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdyhiYXNlLCBleHBvbmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGV4cCA9IGZ1bmN0aW9uIChiYXNlLCB5KXtcclxuICAgICAgICAgICAgICAgIGlmKHkgPT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5leHAoYmFzZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3coYmFzZSwgeSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07IFxyXG5cclxuICAgICAgICAgICAgY29uc3QgZ2FtbWEgPSBmdW5jdGlvbiAoeikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGcgPSA3O1xyXG4gICAgICAgICAgICAgICAgbGV0IEMgPSBbMC45OTk5OTk5OTk5OTk4MDk5MywgNjc2LjUyMDM2ODEyMTg4NTEsIC0xMjU5LjEzOTIxNjcyMjQwMjgsNzcxLjMyMzQyODc3NzY1MzEzLCAtMTc2LjYxNTAyOTE2MjE0MDU5LCAxMi41MDczNDMyNzg2ODY5MDUsIC0wLjEzODU3MTA5NTI2NTcyMDEyLCA5Ljk4NDM2OTU3ODAxOTU3MTZlLTYsIDEuNTA1NjMyNzM1MTQ5MzExNmUtN11cclxuICAgICAgICAgICAgICAgIGlmICh6IDwgMC41KSByZXR1cm4gTWF0aC5QSSAvIChNYXRoLnNpbihNYXRoLlBJICogeikgKiBnYW1tYSgxIC0geikpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeiAtPSAxO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IENbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBnICsgMjsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgIHggKz0gQ1tpXSAvICh6ICsgaSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0geiArIGcgKyAwLjU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCgyICogTWF0aC5QSSkgKiBNYXRoLnBvdyh0LCAoeiArIDAuNSkpICogTWF0aC5leHAoLXQpICogeDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuICR7dGhpcy5GdW5jdGlvbml6ZUNhbGxzKGV4cCl9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYCk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgRnVuY3Rpb25pemVDYWxscyhleHApIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGV4cCk7XHJcbiAgICAgICAgcmV0dXJuIGV4cC5yZXBsYWNlKC8oW2Etel0rKShbMS05XSopXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9nLCAoZSwgJDEsICQyLCAkMykgPT4ge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCQxKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMubWF0aF9mdW5jLmluZGV4T2YoJDEpID49IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBgJHskMSArICQyfSgke3RoaXMuRnVuY3Rpb25pemVDYWxscygkMyl9KWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGBmdW5jcy4keyQxICsgJDJ9LmFycmF5KCR7dGhpcy5GdW5jdGlvbml6ZUNhbGxzKCQzKX0sIGZ1bmNzKWA7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENsZWFuVXBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNsZWFuKGV4cHJlc3Npb24pIHtcclxuICAgICAgICBsZXQgcGF0dGVybiA9IC8oW15hLXpcXC9dKVxcKChbMC05eF0rKVxcKS9naTtcclxuICAgICAgICB3aGlsZSAocGF0dGVybi50ZXN0KGV4cHJlc3Npb24pKSB7XHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UocGF0dGVybiwgKGUsICQxLCAkMikgPT4gJDEgKyAkMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UoL1xcKihbMC05XSkvZ2ksIChlLCAkMSkgPT4gJDEgPT0gMSA/ICcnIDogZSk7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ucmVwbGFjZSgvXFxeKFswLTldKS9naSwgKGUsICQxKSA9PiAkMSA9PSAxID8gJycgOiBlKTtcclxuICAgICAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5yZXBsYWNlKC9cXCQoWzAtOV0rKS9nLCBlID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGAoJHt0aGlzLnBhcnRpYWxzW2VdfSlgO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBleHByZXNzaW9uO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uaXplci5wYXJ0aWFscyA9IHt9O1xyXG5mdW5jdGlvbml6ZXIubWF0aF9mdW5jID0gW1xyXG4gICAgJ3NpbicsXHJcbiAgICAndGFuJyxcclxuICAgICdjb3MnLFxyXG4gICAgJ2FzaW4nLFxyXG4gICAgJ2F0YW4nLFxyXG4gICAgJ2Fjb3MnLFxyXG4gICAgJ3NpbmgnLFxyXG4gICAgJ3RhbmgnLFxyXG4gICAgJ2Nvc2gnLFxyXG4gICAgJ2FzaW5oJyxcclxuICAgICdhdGFuaCcsXHJcbiAgICAnYWNvc2gnLFxyXG4gICAgJ2NlaWwnLFxyXG4gICAgJ2Zsb29yJyxcclxuICAgICdhYnMnLFxyXG4gICAgJ2V4cCcsXHJcbiAgICAnbG4nLFxyXG4gICAgJ2xvZycsXHJcbiAgICAncG93JyxcclxuICAgICdjb3QnLFxyXG4gICAgJ3NlYycsXHJcbiAgICAnY3NjJyxcclxuICAgICdnYW1tYSdcclxuXTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb25pemVyO1xyXG5jbGFzcyBJbnZhbGlkRXhwcmVzc2lvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICB0aGlzLnR5cGUgPSAnSUUnO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuSW52YWxpZEV4cHJlc3Npb25FcnJvciA9IEludmFsaWRFeHByZXNzaW9uRXJyb3I7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/core/functionizer.ts\n");

/***/ }),

/***/ "./src/core/graph/graph.ts":
/*!*********************************!*\
  !*** ./src/core/graph/graph.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst point_1 = __webpack_require__(/*! ./point */ \"./src/core/graph/point.ts\");\r\nclass graph {\r\n    constructor(canvas) {\r\n        this.canvas = canvas;\r\n        /**\r\n         * The size in px of one unit\r\n         */\r\n        this.x_scale = 50;\r\n        /**\r\n         * The size in px of one unit\r\n         */\r\n        this.y_scale = 50;\r\n        /**\r\n         * The unit on the x axis\r\n         */\r\n        this.x_unit = 1;\r\n        /**\r\n         * The unit on the y axis\r\n         */\r\n        this.y_unit = 1;\r\n        /**\r\n         * The x value on the center of the graph\r\n         */\r\n        this.x_center = 0;\r\n        /**\r\n         * The y value on the center of the graph\r\n         */\r\n        this.y_center = 0;\r\n        this.objects = [];\r\n        this.objects.push(new point_1.default(1, 0));\r\n        console.log(this.objects[0].X);\r\n        try {\r\n            window.addEventListener('resize', (e) => {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                this.canvas.resize();\r\n                this.draw();\r\n            });\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        }\r\n        // Checking for server side execution or not\r\n        if (window != undefined) {\r\n            let start;\r\n            let down = false;\r\n            //When the user starts an action on the canvas.\r\n            canvas.canvas.addEventListener('mousedown', (e) => {\r\n                down = true;\r\n                start = { x: e.pageX, y: e.pageY };\r\n                canvas.canvas.style.cursor = 'grabbing';\r\n            });\r\n            canvas.canvas.addEventListener('touchstart', (e) => {\r\n                down = true;\r\n                start = {\r\n                    x: e.touches.item(0).clientX,\r\n                    y: e.touches.item(0).clientY\r\n                };\r\n            });\r\n            // When the user moves on the surface of the canvas.\r\n            canvas.canvas.addEventListener('mousemove', (e) => {\r\n                if (down == true) {\r\n                    let new_start = { x: e.pageX, y: e.pageY };\r\n                    let old = start;\r\n                    let drawn = this.move(old, new_start);\r\n                    if (drawn) {\r\n                        start = new_start;\r\n                    }\r\n                }\r\n            });\r\n            canvas.canvas.addEventListener('touchmove', (e) => {\r\n                e.preventDefault();\r\n                if (down == true) {\r\n                    let new_start = {\r\n                        x: e.touches.item(0).clientX,\r\n                        y: e.touches.item(0).clientY\r\n                    };\r\n                    let old = start;\r\n                    let drawn = this.move(old, new_start);\r\n                    if (drawn) {\r\n                        start = new_start;\r\n                    }\r\n                }\r\n            });\r\n            //When the user stops clicking on teh surface\r\n            canvas.canvas.addEventListener('mouseup', (e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                down = false;\r\n                canvas.canvas.style.cursor = 'grab';\r\n            });\r\n            canvas.canvas.addEventListener('touchend', (e) => {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                down = false;\r\n            });\r\n            canvas.canvas.addEventListener('mousewheel', (e) => {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                let delta = Math.max(-1, Math.min(1, e.wheelDelta || -e.detail));\r\n                this.zoom(delta);\r\n            });\r\n            canvas.canvas.addEventListener('DOMMouseScroll', (e) => {\r\n                e.preventDefault();\r\n                e.preventDefault();\r\n                let delta = Math.max(-1, Math.min(1, e.wheelDelta || -e.detail));\r\n                this.zoom(delta);\r\n            });\r\n        }\r\n    }\r\n    register(type, opts) { }\r\n    zoom(delta) {\r\n        if (this.x_scale + delta * 10 > 5) {\r\n            this.x_scale += delta * 10;\r\n        }\r\n        if (this.y_scale + delta * 10 > 5) {\r\n            this.y_scale += delta * 10;\r\n        }\r\n        this.draw();\r\n    }\r\n    move(previous, now) {\r\n        let diff_x = previous.x - now.x;\r\n        let diff_y = previous.y - now.y;\r\n        if (Math.sqrt(Math.pow(diff_x, 2) + Math.pow(diff_y, 2)) > 10) {\r\n            this.x_center += diff_x / this.x_scale;\r\n            this.y_center -= diff_y / this.y_scale;\r\n            this.draw();\r\n            return true;\r\n        }\r\n    }\r\n    draw() {\r\n        this.canvas.clear();\r\n        this.drawGrid();\r\n    }\r\n    /**\r\n     * Creates a grid\r\n     */\r\n    drawGrid() {\r\n        let size = 18;\r\n        let phase = 15;\r\n        let font = size + 'px Sans Serif';\r\n        let xMax = this.canvas.width / this.x_scale / 2 + this.x_unit;\r\n        let start = this.x_center - (this.x_center % this.x_unit);\r\n        let y0 = this.yPos(0);\r\n        for (let x = 0; x < xMax; x += this.x_unit) {\r\n            let xpos = this.xPos(start + x);\r\n            let xposMinus = this.xPos(start - x);\r\n            this.canvas.drawLine(xpos, 0, xpos, this.canvas.height);\r\n            this.canvas.text((Math.floor((start + x) * 100) / 100).toString(), xpos, y0 + phase, 'gray', font);\r\n            if (xpos != xposMinus) {\r\n                this.canvas.drawLine(xposMinus, 0, xposMinus, this.canvas.height);\r\n                this.canvas.text((Math.floor((start - x) * 100) / 100).toString(), xposMinus, y0 + phase, 'gray', font);\r\n            }\r\n        }\r\n        let yMax = this.canvas.height / this.y_scale / 2 + this.y_unit;\r\n        let yStart = this.y_center - (this.y_center % this.y_unit);\r\n        let x0 = this.xPos(0);\r\n        for (let y = 0; y < yMax; y += this.y_unit) {\r\n            let yPlus = yStart + y;\r\n            let yMinus = yStart - y;\r\n            let ypos = this.yPos(yPlus);\r\n            let yposMinus = this.yPos(yMinus);\r\n            this.canvas.drawLine(0, ypos, this.canvas.width, ypos);\r\n            this.canvas.text((Math.floor(yPlus * 100) / 100).toString(), x0 + 2, ypos, 'gray', font);\r\n            if (ypos != yposMinus) {\r\n                this.canvas.drawLine(0, yposMinus, this.canvas.width, yposMinus);\r\n                this.canvas.text((Math.floor(yMinus * 100) / 100).toString(), x0 + 2, yposMinus, 'gray', font);\r\n            }\r\n        }\r\n        this.canvas.drawLine(this.xPos(0), 0, this.xPos(0), this.canvas.height, 'black');\r\n        this.canvas.drawLine(0, this.yPos(0), this.canvas.width, this.yPos(0), 'black');\r\n    }\r\n    /**\r\n     * Gets the canvas x for the mathematical x\r\n     * @param point X on the graph\r\n     */\r\n    xPos(point) {\r\n        return (this.canvas.width / 2 +\r\n            point * this.x_scale -\r\n            this.x_center * this.x_scale);\r\n    }\r\n    /**\r\n     * Gets the canvas y for the mathematical y\r\n     * @param point Y on the graph\r\n     */\r\n    yPos(point) {\r\n        return (this.canvas.height / 2 -\r\n            point * this.y_scale +\r\n            this.y_center * this.y_scale);\r\n    }\r\n}\r\nexports.default = graph;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29yZS9ncmFwaC9ncmFwaC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NtYXRoLy4vc3JjL2NvcmUvZ3JhcGgvZ3JhcGgudHM/N2FjZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBwb2ludF8xID0gcmVxdWlyZShcIi4vcG9pbnRcIik7XHJcbmNsYXNzIGdyYXBoIHtcclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhcykge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBzaXplIGluIHB4IG9mIG9uZSB1bml0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy54X3NjYWxlID0gNTA7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIHNpemUgaW4gcHggb2Ygb25lIHVuaXRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnlfc2NhbGUgPSA1MDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgdW5pdCBvbiB0aGUgeCBheGlzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy54X3VuaXQgPSAxO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSB1bml0IG9uIHRoZSB5IGF4aXNcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnlfdW5pdCA9IDE7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIHggdmFsdWUgb24gdGhlIGNlbnRlciBvZiB0aGUgZ3JhcGhcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnhfY2VudGVyID0gMDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgeSB2YWx1ZSBvbiB0aGUgY2VudGVyIG9mIHRoZSBncmFwaFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMueV9jZW50ZXIgPSAwO1xyXG4gICAgICAgIHRoaXMub2JqZWN0cyA9IFtdO1xyXG4gICAgICAgIHRoaXMub2JqZWN0cy5wdXNoKG5ldyBwb2ludF8xLmRlZmF1bHQoMSwgMCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMub2JqZWN0c1swXS5YKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5yZXNpemUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgZm9yIHNlcnZlciBzaWRlIGV4ZWN1dGlvbiBvciBub3RcclxuICAgICAgICBpZiAod2luZG93ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZXQgc3RhcnQ7XHJcbiAgICAgICAgICAgIGxldCBkb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vV2hlbiB0aGUgdXNlciBzdGFydHMgYW4gYWN0aW9uIG9uIHRoZSBjYW52YXMuXHJcbiAgICAgICAgICAgIGNhbnZhcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGRvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc3RhcnQgPSB7IHg6IGUucGFnZVgsIHk6IGUucGFnZVkgfTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2dyYWJiaW5nJztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IGUudG91Y2hlcy5pdGVtKDApLmNsaWVudFgsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogZS50b3VjaGVzLml0ZW0oMCkuY2xpZW50WVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIHVzZXIgbW92ZXMgb24gdGhlIHN1cmZhY2Ugb2YgdGhlIGNhbnZhcy5cclxuICAgICAgICAgICAgY2FudmFzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvd24gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdfc3RhcnQgPSB7IHg6IGUucGFnZVgsIHk6IGUucGFnZVkgfTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgb2xkID0gc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRyYXduID0gdGhpcy5tb3ZlKG9sZCwgbmV3X3N0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHJhd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBuZXdfc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FudmFzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvd24gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdfc3RhcnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGUudG91Y2hlcy5pdGVtKDApLmNsaWVudFgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGUudG91Y2hlcy5pdGVtKDApLmNsaWVudFlcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvbGQgPSBzdGFydDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZHJhd24gPSB0aGlzLm1vdmUob2xkLCBuZXdfc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkcmF3bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IG5ld19zdGFydDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL1doZW4gdGhlIHVzZXIgc3RvcHMgY2xpY2tpbmcgb24gdGVoIHN1cmZhY2VcclxuICAgICAgICAgICAgY2FudmFzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBkb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdncmFiJztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGRvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhID0gTWF0aC5tYXgoLTEsIE1hdGgubWluKDEsIGUud2hlZWxEZWx0YSB8fCAtZS5kZXRhaWwpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuem9vbShkZWx0YSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYW52YXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YSA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBlLndoZWVsRGVsdGEgfHwgLWUuZGV0YWlsKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnpvb20oZGVsdGEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZWdpc3Rlcih0eXBlLCBvcHRzKSB7IH1cclxuICAgIHpvb20oZGVsdGEpIHtcclxuICAgICAgICBpZiAodGhpcy54X3NjYWxlICsgZGVsdGEgKiAxMCA+IDUpIHtcclxuICAgICAgICAgICAgdGhpcy54X3NjYWxlICs9IGRlbHRhICogMTA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnlfc2NhbGUgKyBkZWx0YSAqIDEwID4gNSkge1xyXG4gICAgICAgICAgICB0aGlzLnlfc2NhbGUgKz0gZGVsdGEgKiAxMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kcmF3KCk7XHJcbiAgICB9XHJcbiAgICBtb3ZlKHByZXZpb3VzLCBub3cpIHtcclxuICAgICAgICBsZXQgZGlmZl94ID0gcHJldmlvdXMueCAtIG5vdy54O1xyXG4gICAgICAgIGxldCBkaWZmX3kgPSBwcmV2aW91cy55IC0gbm93Lnk7XHJcbiAgICAgICAgaWYgKE1hdGguc3FydChNYXRoLnBvdyhkaWZmX3gsIDIpICsgTWF0aC5wb3coZGlmZl95LCAyKSkgPiAxMCkge1xyXG4gICAgICAgICAgICB0aGlzLnhfY2VudGVyICs9IGRpZmZfeCAvIHRoaXMueF9zY2FsZTtcclxuICAgICAgICAgICAgdGhpcy55X2NlbnRlciAtPSBkaWZmX3kgLyB0aGlzLnlfc2NhbGU7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3R3JpZCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgZ3JpZFxyXG4gICAgICovXHJcbiAgICBkcmF3R3JpZCgpIHtcclxuICAgICAgICBsZXQgc2l6ZSA9IDE4O1xyXG4gICAgICAgIGxldCBwaGFzZSA9IDE1O1xyXG4gICAgICAgIGxldCBmb250ID0gc2l6ZSArICdweCBTYW5zIFNlcmlmJztcclxuICAgICAgICBsZXQgeE1heCA9IHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy54X3NjYWxlIC8gMiArIHRoaXMueF91bml0O1xyXG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMueF9jZW50ZXIgLSAodGhpcy54X2NlbnRlciAlIHRoaXMueF91bml0KTtcclxuICAgICAgICBsZXQgeTAgPSB0aGlzLnlQb3MoMCk7XHJcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB4TWF4OyB4ICs9IHRoaXMueF91bml0KSB7XHJcbiAgICAgICAgICAgIGxldCB4cG9zID0gdGhpcy54UG9zKHN0YXJ0ICsgeCk7XHJcbiAgICAgICAgICAgIGxldCB4cG9zTWludXMgPSB0aGlzLnhQb3Moc3RhcnQgLSB4KTtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuZHJhd0xpbmUoeHBvcywgMCwgeHBvcywgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMudGV4dCgoTWF0aC5mbG9vcigoc3RhcnQgKyB4KSAqIDEwMCkgLyAxMDApLnRvU3RyaW5nKCksIHhwb3MsIHkwICsgcGhhc2UsICdncmF5JywgZm9udCk7XHJcbiAgICAgICAgICAgIGlmICh4cG9zICE9IHhwb3NNaW51cykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuZHJhd0xpbmUoeHBvc01pbnVzLCAwLCB4cG9zTWludXMsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy50ZXh0KChNYXRoLmZsb29yKChzdGFydCAtIHgpICogMTAwKSAvIDEwMCkudG9TdHJpbmcoKSwgeHBvc01pbnVzLCB5MCArIHBoYXNlLCAnZ3JheScsIGZvbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB5TWF4ID0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy55X3NjYWxlIC8gMiArIHRoaXMueV91bml0O1xyXG4gICAgICAgIGxldCB5U3RhcnQgPSB0aGlzLnlfY2VudGVyIC0gKHRoaXMueV9jZW50ZXIgJSB0aGlzLnlfdW5pdCk7XHJcbiAgICAgICAgbGV0IHgwID0gdGhpcy54UG9zKDApO1xyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgeU1heDsgeSArPSB0aGlzLnlfdW5pdCkge1xyXG4gICAgICAgICAgICBsZXQgeVBsdXMgPSB5U3RhcnQgKyB5O1xyXG4gICAgICAgICAgICBsZXQgeU1pbnVzID0geVN0YXJ0IC0geTtcclxuICAgICAgICAgICAgbGV0IHlwb3MgPSB0aGlzLnlQb3MoeVBsdXMpO1xyXG4gICAgICAgICAgICBsZXQgeXBvc01pbnVzID0gdGhpcy55UG9zKHlNaW51cyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmRyYXdMaW5lKDAsIHlwb3MsIHRoaXMuY2FudmFzLndpZHRoLCB5cG9zKTtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMudGV4dCgoTWF0aC5mbG9vcih5UGx1cyAqIDEwMCkgLyAxMDApLnRvU3RyaW5nKCksIHgwICsgMiwgeXBvcywgJ2dyYXknLCBmb250KTtcclxuICAgICAgICAgICAgaWYgKHlwb3MgIT0geXBvc01pbnVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5kcmF3TGluZSgwLCB5cG9zTWludXMsIHRoaXMuY2FudmFzLndpZHRoLCB5cG9zTWludXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMudGV4dCgoTWF0aC5mbG9vcih5TWludXMgKiAxMDApIC8gMTAwKS50b1N0cmluZygpLCB4MCArIDIsIHlwb3NNaW51cywgJ2dyYXknLCBmb250KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhbnZhcy5kcmF3TGluZSh0aGlzLnhQb3MoMCksIDAsIHRoaXMueFBvcygwKSwgdGhpcy5jYW52YXMuaGVpZ2h0LCAnYmxhY2snKTtcclxuICAgICAgICB0aGlzLmNhbnZhcy5kcmF3TGluZSgwLCB0aGlzLnlQb3MoMCksIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLnlQb3MoMCksICdibGFjaycpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBjYW52YXMgeCBmb3IgdGhlIG1hdGhlbWF0aWNhbCB4XHJcbiAgICAgKiBAcGFyYW0gcG9pbnQgWCBvbiB0aGUgZ3JhcGhcclxuICAgICAqL1xyXG4gICAgeFBvcyhwb2ludCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5jYW52YXMud2lkdGggLyAyICtcclxuICAgICAgICAgICAgcG9pbnQgKiB0aGlzLnhfc2NhbGUgLVxyXG4gICAgICAgICAgICB0aGlzLnhfY2VudGVyICogdGhpcy54X3NjYWxlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgY2FudmFzIHkgZm9yIHRoZSBtYXRoZW1hdGljYWwgeVxyXG4gICAgICogQHBhcmFtIHBvaW50IFkgb24gdGhlIGdyYXBoXHJcbiAgICAgKi9cclxuICAgIHlQb3MocG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuY2FudmFzLmhlaWdodCAvIDIgLVxyXG4gICAgICAgICAgICBwb2ludCAqIHRoaXMueV9zY2FsZSArXHJcbiAgICAgICAgICAgIHRoaXMueV9jZW50ZXIgKiB0aGlzLnlfc2NhbGUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGdyYXBoO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/core/graph/graph.ts\n");

/***/ }),

/***/ "./src/core/graph/point.ts":
/*!*********************************!*\
  !*** ./src/core/graph/point.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Point {\r\n    constructor(X, Y) {\r\n        this.X = X;\r\n        this.Y = Y;\r\n        this.type = 'point';\r\n        this.coordinates = [[X, Y]];\r\n    }\r\n}\r\nexports.default = Point;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29yZS9ncmFwaC9wb2ludC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NtYXRoLy4vc3JjL2NvcmUvZ3JhcGgvcG9pbnQudHM/MTFmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jbGFzcyBQb2ludCB7XHJcbiAgICBjb25zdHJ1Y3RvcihYLCBZKSB7XHJcbiAgICAgICAgdGhpcy5YID0gWDtcclxuICAgICAgICB0aGlzLlkgPSBZO1xyXG4gICAgICAgIHRoaXMudHlwZSA9ICdwb2ludCc7XHJcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IFtbWCwgWV1dO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFBvaW50O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/core/graph/point.ts\n");

/***/ }),

/***/ "./src/core/index.ts":
/*!***************************!*\
  !*** ./src/core/index.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst expression_1 = __webpack_require__(/*! ./expression */ \"./src/core/expression.ts\");\r\nconst graph_1 = __webpack_require__(/*! ./graph/graph */ \"./src/core/graph/graph.ts\");\r\nclass smath {\r\n    constructor() {\r\n        this.exp = undefined;\r\n        this.gr = undefined;\r\n    }\r\n    /**\r\n     * Gives access to all the tools available\r\n     * and that work on expressions\r\n     */\r\n    get expression() {\r\n        if (this.exp == undefined)\r\n            this.exp = new expressionManager();\r\n        return this.exp;\r\n    }\r\n    get graph() {\r\n        if (this.gr == undefined)\r\n            this.gr = new graphManager();\r\n        return this.gr;\r\n    }\r\n}\r\nexports.default = smath;\r\nclass expressionManager {\r\n    create(code) {\r\n        return new expression_1.default(code);\r\n    }\r\n}\r\nexports.expressionManager = expressionManager;\r\nclass graphManager {\r\n    create(canvas) {\r\n        return new graph_1.default(canvas);\r\n    }\r\n}\r\nexports.graphManager = graphManager;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29yZS9pbmRleC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NtYXRoLy4vc3JjL2NvcmUvaW5kZXgudHM/NzRhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBleHByZXNzaW9uXzEgPSByZXF1aXJlKFwiLi9leHByZXNzaW9uXCIpO1xyXG5jb25zdCBncmFwaF8xID0gcmVxdWlyZShcIi4vZ3JhcGgvZ3JhcGhcIik7XHJcbmNsYXNzIHNtYXRoIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZXhwID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuZ3IgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdpdmVzIGFjY2VzcyB0byBhbGwgdGhlIHRvb2xzIGF2YWlsYWJsZVxyXG4gICAgICogYW5kIHRoYXQgd29yayBvbiBleHByZXNzaW9uc1xyXG4gICAgICovXHJcbiAgICBnZXQgZXhwcmVzc2lvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5leHAgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLmV4cCA9IG5ldyBleHByZXNzaW9uTWFuYWdlcigpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV4cDtcclxuICAgIH1cclxuICAgIGdldCBncmFwaCgpIHtcclxuICAgICAgICBpZiAodGhpcy5nciA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHRoaXMuZ3IgPSBuZXcgZ3JhcGhNYW5hZ2VyKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3I7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gc21hdGg7XHJcbmNsYXNzIGV4cHJlc3Npb25NYW5hZ2VyIHtcclxuICAgIGNyZWF0ZShjb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBleHByZXNzaW9uXzEuZGVmYXVsdChjb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmV4cHJlc3Npb25NYW5hZ2VyID0gZXhwcmVzc2lvbk1hbmFnZXI7XHJcbmNsYXNzIGdyYXBoTWFuYWdlciB7XHJcbiAgICBjcmVhdGUoY2FudmFzKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBncmFwaF8xLmRlZmF1bHQoY2FudmFzKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmdyYXBoTWFuYWdlciA9IGdyYXBoTWFuYWdlcjtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/core/index.ts\n");

/***/ }),

/***/ "./src/lib.ts":
/*!********************!*\
  !*** ./src/lib.ts ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst core_1 = __webpack_require__(/*! ./core */ \"./src/core/index.ts\");\r\nexports.default = core_1.default;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc21hdGgvLi9zcmMvbGliLnRzPzc1M2QiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgY29yZV8xID0gcmVxdWlyZShcIi4vY29yZVwiKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gY29yZV8xLmRlZmF1bHQ7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib.ts\n");

/***/ })

/******/ });
});